<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="pay.css"/>
  <link rel="stylesheet" href="tutor.css"/>
  <link rel="stylesheet" href="student.css"/>
  <link rel="stylesheet" href="paytab.css"/>
  
  <link rel="icon" type="image/x-icon" href="logo.png"/>
  <title>Math Saints</title>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agu+Display&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
  <style>
.material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24
}
  </style>
</head>
<body class="ubuntu-light">
  <div class="allholder">
  <div class="heading">
  <img src="logo.png">
    <h2>The Math Saints</h2>
  </div>
  <div class="mega-cont">
  <div class="cont">
    <div id="log" class="login">
      <div>
         I don't have an account <a href="#sign" class="linknext" id="createaccount">Create Account</a>
      </div>
      <h2>Welcome back</h2>
      <h5>User name:</h5>
      <input type="text" class="ubuntu-regular" id="login-username" placeholder="Your name"/>
      <h5>Password:</h5>
      <div class="passholder">
      <input type="password" class="ubuntu-regular" id="login-password"/>
      <button id="seelogpass"><span class="material-symbols-outlined">
visibility
</span></button>
      </div>
      <button id="login-button">LOGIN</button>
     
    </div>
    
    <div id="sign" class="sign-up">
      <div id="tab1" class="tabs">
        <h2>Create an account</h2>
        <h5>Email:</h5>
        <input type="email" class="ubuntu-regular" id="sign-up-email" placeholder="something@example.com"/>
        <h5>Password:</h5>
        <div class="passholder">
        <input type="password" class="ubuntu-regular" id="sign-up-password"/>
          <button id="seesignpass"><span class="material-symbols-outlined">
visibility
</span></button>
        </div>
        <a href="#tab2" class="linknext">Next</a>
      </div>
      <div id="tab2" class="tabs">
        <h5>Your name:</h5>
        <input class="ubuntu-regular" type="text" id="sign-up-name" placeholder="User name"/>
        <h4>
          Sign up As:
        </h4>
        <select class="ubuntu-regular" id="sign-up-path">
          <option value="Student">Student</option>
          <option value="Tutor">Tutor</option>
        </select>
        <div id="tode" style="visibility: hidden;">
          <label for="tutor-code">Tutor Code</label>
          <input type="text" id="tutor-code"/>
        </div>
        <a href="#tab1" class="linknext" id="back">Previous</a>
        <button class="linknext" id="fro">Next</button>
        <div>
           Already have an account <a href="#log" class="logintab linknext">Login</a>
        </div>
      </div>
    
    </div>
  </div>
  </div>
  </div>
 
   <div class="tutortab tabb">
     <div class="header">
       <h1>Math Saints</h1>
       <button id="tutor-profile-appear"><span class="material-symbols-outlined">
account_circle
</span></button>
       <div id="tutor-profile" class="contact-info">
         <div class="image-wrap">
         <img src="person2.webp"/>
         </div>
         <h4 class="tutor-name-holder"></h4>
         <div class="tutor-email-holder"></div>
         <h2 class="tutor-role"></h2>
         <button class="sign-out">Sign Out</button>
       </div>
     </div>
     <div class="body">
       <h3 class="tutor-welcome">Welcome, </h3>
       <button class="lessoner">Create Lesson</button>
       <div class="videoUpload">
         <button class="close"><span class="material-symbols-outlined">
close
</span></button>
         <div class="img-hold">
         <img src="logo.png"/>
         </div>
         <h3>Create a Lesson</h3>
         <h4>Title:</h4>
         <input type="text" id="videoTitle" placeholder="Simplified Maths"/>
         <h4>Topic:</h4>
         <select name="maths_topics" id="videoTopic">
           <optgroup label="Higher GSCE Maths">
  <optgroup label="Number">
    <option>Prior knowledge check</option>
    <option>Number problems and reasoning</option>
    <option>Place value and estimating</option>
    <option>HCF and LCM</option>
    <option>Calculating with powers (indices)</option>
    <option>Zero, negative and fractional indices</option>
    <option>Powers of 10 and standard form</option>
    <option>Surds</option>
  </optgroup>
  <optgroup label="Algebra">
    <option>Prior knowledge check</option>
    <option>Algebraic indices</option>
    <option>Expanding and factorising</option>
    <option>Equations</option>
    <option>Formulae</option>
    <option>Linear sequences</option>
    <option>Non-linear sequences</option>
    <option>More expanding and factorising</option>
  </optgroup>
  <optgroup label="Interpreting and representing data">
    <option>Prior knowledge check</option>
    <option>Statistical diagrams 1</option>
    <option>Time series</option>
    <option>Scatter graphs</option>
    <option>Line of best fit</option>
    <option>Averages and range</option>
    <option>Statistical diagrams 2</option>
  </optgroup>
  <optgroup label="Fractions, ratio and percentages">
    <option>Prior knowledge check</option>
    <option>Fractions</option>
    <option>Ratios</option>
    <option>Ratio and proportion</option>
    <option>Percentages</option>
    <option>Fractions, decimals and percentages</option>
  </optgroup>
  <optgroup label="Angles and trigonometry">
    <option>Prior knowledge check</option>
    <option>Angle properties of triangles and quadrilaterals</option>
    <option>Exterior angles of a polygon</option>
    <option>Interior angles of a polygon</option>
    <option>Pythagoras’ theorem 1</option>
    <option>Pythagoras’ theorem 2</option>
    <option>Trigonometry 1</option>
    <option>Trigonometry 2</option>
  </optgroup>
  <optgroup label="Graphs">
    <option>Prior knowledge check</option>
    <option>Linear graphs</option>
    <option>More linear graphs</option>
    <option>Using rates of change</option>
    <option>Real-life graphs</option>
    <option>Line segments</option>
    <option>Quadratic graphs</option>
    <option>Cubic and reciprocal graphs</option>
    <option>More graphs</option>
  </optgroup>
  <optgroup label="Area and volume">
    <option>Prior knowledge check</option>
    <option>Perimeter and area</option>
    <option>Units and accuracy</option>
    <option>Prisms</option>
    <option>Circles</option>
    <option>Sectors of circles</option>
    <option>Cylinders and spheres</option>
    <option>Pyramids and cones</option>
  </optgroup>
  <optgroup label="Transformations and constructions">
    <option>Prior knowledge check</option>
    <option>3D solids</option>
    <option>Reflection and rotation</option>
    <option>Enlargement</option>
    <option>Transformations and combinations of transformations</option>
    <option>Bearings and scale drawings</option>
    <option>Constructions 1</option>
    <option>Constructions 2</option>
  </optgroup>
  <optgroup label="Equations and inequalities">
    <option>Prior knowledge check</option>
    <option>Solving quadratic equations 1</option>
    <option>Solving quadratic equations 2</option>
    <option>Completing the square</option>
    <option>Solving simple simultaneous equations</option>
    <option>More simultaneous equations</option>
    <option>Solving linear and quadratic simultaneous equations</option>
    <option>Solving linear inequalities</option>
  </optgroup>
  <optgroup label="Probability">
    <option>Prior knowledge check</option>
    <option>Combined events</option>
    <option>Mutually exclusive events</option>
    <option>Independent events and tree diagrams</option>
    <option>Conditional probability</option>
  </optgroup>
  <optgroup label="Circle theorems">
    <option>Prior knowledge check</option>
    <option>Radii and chords</option>
    <option>Tangents</option>
    <option>Angles in circles 1</option>
    <option>Angles in circles 2</option>
    <option>Applying circle theorems</option>
  </optgroup>
  <optgroup label="Vectors and geometric proof">
    <option>Prior knowledge check</option>
    <option>Vectors and vector notation</option>
    <option>Vector arithmetic</option>
    <option>Parallel vectors and collinear points</option>
    <option>Solving geometric problems</option>
  </optgroup>
</optgroup>
           <optgroup label="YEAR ONE">
  <optgroup label="1. Algebraic Expressions">
    <option value="index_laws">Index laws</option>
    <option value="expanding_brackets">Expanding brackets</option>
    <option value="factorising">Factorising</option>
    <option value="negative_indices">Negative and fractional indices</option>
    <option value="surds">Surds</option>
    <option value="rationalising_denominators">Rationalising denominators</option>
  </optgroup>
  <optgroup label="2. Quadratics">
    <option value="solving_quadratics">Solving quadratic equations</option>
    <option value="completing_square">Completing the square</option>
    <option value="functions">Functions</option>
    <option value="quadratic_graphs">Quadratic graphs</option>
    <option value="discriminant">The discriminant</option>
    <option value="modelling_quadratics">Modelling with quadratics</option>
  </optgroup>
  <optgroup label="3. Equations and Inequalities">
    <option value="linear_simultaneous">Linear simultaneous equations</option>
    <option value="quadratic_simultaneous">Quadratic simultaneous equations</option>
    <option value="simultaneous_graphs">Simultaneous equations on graphs</option>
    <option value="linear_inequalities">Linear inequalities</option>
    <option value="quadratic_inequalities">Quadratic inequalities</option>
    <option value="inequalities_graphs">Inequalities on graphs</option>
    <option value="regions">Regions</option>
  </optgroup>
  <optgroup label="4. Graphs and Transformations">
    <option value="cubic_graphs">Cubic graphs</option>
    <option value="quartic_graphs">Quartic graphs</option>
    <option value="reciprocal_graphs">Reciprocal graphs</option>
    <option value="points_intersection">Points of intersection</option>
    <option value="translating_graphs">Translating graphs</option>
    <option value="stretching_graphs">Stretching graphs</option>
    <option value="transforming_functions">Transforming functions</option>
  </optgroup>
  <optgroup label="5. Straight Line Graphs">
    <option value="straight_line_y_mx_c">y = mx + c</option>
    <option value="equations_straight_lines">Equations of straight lines</option>
    <option value="parallel_perpendicular_lines">Parallel and perpendicular lines</option>
    <option value="length_area">Length and area</option>
    <option value="modelling_straight_lines">Modelling with straight lines</option>
  </optgroup>
  <optgroup label="6. Circles">
    <option value="midpoints_bisectors">Midpoints and perpendicular bisectors</option>
    <option value="equation_circle">Equation of a circle</option>
    <option value="intersections_circle">Intersections of straight lines and circles</option>
    <option value="tangent_chord_properties">Use tangent and chord properties</option>
    <option value="circles_triangles">Circles and triangles</option>
  </optgroup>
  <optgroup label="7. Algebraic Methods">
    <option value="algebraic_fractions">Algebraic fractions</option>
    <option value="dividing_polynomials">Dividing polynomials</option>
    <option value="factor_theorem">The factor theorem</option>
    <option value="mathematical_proof">Mathematical proof</option>
    <option value="methods_proof">Methods of proof</option>
  </optgroup>
  <optgroup label="8. The Binomial Expansion">
    <option value="pascals_triangle">Pascal’s triangle</option>
    <option value="factorial_notation">Factorial notation</option>
    <option value="binomial_expansion">The binomial expansion</option>
    <option value="solving_binomial_problems">Solving binomial problems</option>
    <option value="binomial_estimation">Binomial estimation</option>
  </optgroup>
  <optgroup label="9. Trigonometric Ratios">
    <option value="cosine_rule">The cosine rule</option>
    <option value="sine_rule">The sine rule</option>
    <option value="areas_triangles">Areas of triangles</option>
    <option value="solving_triangle_problems">Solving triangle problems</option>
    <option value="graphs_sine_cosine_tangent">Graphs of sine, cosine, and tangent</option>
    <option value="transforming_trigonometric">Transforming trigonometric graphs</option>
  </optgroup>
  <optgroup label="10. Trigonometric Identities and Equations">
    <option value="angles_four_quadrants">Angles in all four quadrants</option>
    <option value="exact_trigonometric_ratios">Exact values of trigonometric ratios</option>
    <option value="trigonometric_identities">Trigonometric identities</option>
    <option value="simple_trig_equations">Simple trigonometric equations</option>
    <option value="harder_trig_equations">Harder trigonometric equations</option>
    <option value="equations_identities">Equations and identities</option>
  </optgroup>
  <optgroup label="11. Vectors">
    <option value="vectors">Vectors</option>
    <option value="representing_vectors">Representing vectors</option>
    <option value="magnitude_direction">Magnitude and direction</option>
    <option value="position_vectors">Position vectors</option>
    <option value="solving_geometric_problems">Solving geometric problems</option>
    <option value="modelling_vectors">Modelling with vectors</option>
  </optgroup>
  <optgroup label="12. Differentiation">
    <option value="gradients_curves">Gradients of curves</option>
    <option value="finding_derivative">Finding the derivative</option>
    <option value="differentiating_x_n">Differentiating xⁿ</option>
    <option value="differentiating_quadratics">Differentiating quadratics</option>
    <option value="differentiating_functions">Differentiating functions with two or more terms</option>
    <option value="gradients_tangents_normals">Gradients, tangents and normals</option>
    <option value="increasing_decreasing">Increasing and decreasing functions</option>
    <option value="second_derivatives">Second order derivatives</option>
    <option value="stationary_points">Stationary points</option>
    <option value="sketching_gradient_functions">Sketching gradient functions</option>
    <option value="modelling_differentiation">Modelling with differentiation</option>
  </optgroup>
  <optgroup label="13. Integration">
    <option value="integrating_x_n">Integrating xⁿ</option>
    <option value="indefinite_integrals">Indefinite integrals</option>
    <option value="finding_functions">Finding functions</option>
    <option value="definite_integrals">Definite integrals</option>
    <option value="areas_under_curves">Areas under curves</option>
    <option value="areas_between_curves">Areas between curves and lines</option>
  </optgroup>
  <optgroup label="14. Exponentials and Logarithms">
    <option value="exponential_functions">Exponential functions</option>
    <option value="y_e_x">y = eˣ</option>
    <option value="exponential_modelling">Exponential modelling</option>
    <option value="logarithms">Logarithms</option>
    <option value="laws_logarithms">Laws of logarithms</option>
    <option value="solving_logarithms">Solving equations using logarithms</option>
    <option value="natural_logarithms">Working with natural logarithms</option>
    <option value="logarithms_non_linear">Logarithms and non-linear data</option>
  </optgroup>
           </optgroup>
           <optgroup label="YEAR TWO">
              <!-- Algebraic Methods -->
        <optgroup label="Algebraic Methods">
            <option value="proof-by-contradiction">Proof by contradiction</option>
            <option value="algebraic-fractions">Algebraic fractions</option>
            <option value="partial-fractions">Partial fractions</option>
            <option value="repeated-factors">Repeated factors</option>
            <option value="algebraic-division">Algebraic division</option>
        </optgroup>
        
        <!-- Functions and Graphs -->
        <optgroup label="Functions and Graphs">
            <option value="modulus-function">The modulus function</option>
            <option value="functions-and-mappings">Functions and mappings</option>
            <option value="composite-functions">Composite functions</option>
            <option value="inverse-functions">Inverse functions</option>
            <option value="combining-transformations">Combining transformations</option>
            <option value="solving-modulus-problems">Solving modulus problems</option>
        </optgroup>
        
        <!-- Sequences and Series -->
        <optgroup label="Sequences and Series">
            <option value="arithmetic-sequences">Arithmetic sequences</option>
            <option value="arithmetic-series">Arithmetic series</option>
            <option value="geometric-sequences">Geometric sequences</option>
            <option value="geometric-series">Geometric series</option>
            <option value="sum-to-infinity">Sum to infinity</option>
            <option value="sigma-notation">Sigma notation</option>
            <option value="recurrence-relations">Recurrence relations</option>
            <option value="modelling-with-series">Modelling with series</option>
        </optgroup>
        
        <!-- Binomial Expansion -->
        <optgroup label="Binomial Expansion">
            <option value="expanding-1-plus-x">Expanding (1 + x)<sup>n</sup></option>
            <option value="expanding-a-plus-bx">Expanding (a + bx)<sup>n</sup></option>
            <option value="using-partial-fractions">Using partial fractions</option>
        </optgroup>
        
        <!-- Radians -->
        <optgroup label="Radians">
            <option value="radian-measure">Radian measure</option>
            <option value="arc-length">Arc length</option>
            <option value="areas-of-sectors-and-segments">Areas of sectors and segments</option>
            <option value="solving-trigonometric-equations">Solving trigonometric equations</option>
            <option value="small-angle-approximations">Small angle approximations</option>
        </optgroup>
        
        <!-- Trigonometric Functions -->
        <optgroup label="Trigonometric Functions">
            <option value="secant-cosecant-cotangent">Secant, cosecant and cotangent</option>
            <option value="graphs-of-sec-cosec-cot">Graphs of sec x, cosec x and cot x</option>
            <option value="using-sec-cosec-cot">Using sec x, cosec x and cot x</option>
            <option value="trigonometric-identities">Trigonometric identities</option>
            <option value="inverse-trigonometric-functions">Inverse trigonometric functions</option>
        </optgroup>
        
        <!-- Trigonometry and Modelling -->
        <optgroup label="Trigonometry and Modelling">
            <option value="addition-formulae">Addition formulae</option>
            <option value="using-angle-addition-formulae">Using the angle addition formulae</option>
            <option value="double-angle-formulae">Double-angle formulae</option>
            <option value="solving-trigonometric-equations">Solving trigonometric equations</option>
            <option value="simplifying-acos-bsin">Simplifying acos x + bsin x</option>
            <option value="proving-trigonometric-identities">Proving trigonometric identities</option>
            <option value="modelling-with-trigonometric-functions">Modelling with trigonometric functions</option>
        </optgroup>
        
        <!-- Parametric Equations -->
        <optgroup label="Parametric Equations">
            <option value="parametric-equations">Parametric equations</option>
            <option value="using-trigonometric-identities">Using trigonometric identities</option>
            <option value="curve-sketching">Curve sketching</option>
            <option value="points-of-intersection">Points of intersection</option>
            <option value="modelling-with-parametric-equations">Modelling with parametric equations</option>
        </optgroup>
        
        <!-- Differentiation -->
        <optgroup label="Differentiation">
            <option value="differentiating-sin-cos">Differentiating sin x and cos x</option>
            <option value="differentiating-exponentials-logarithms">Differentiating exponentials and logarithms</option>
            <option value="chain-rule">The chain rule</option>
            <option value="product-rule">The product rule</option>
            <option value="quotient-rule">The quotient rule</option>
            <option value="differentiating-trigonometric-functions">Differentiating trigonometric functions</option>
            <option value="parametric-differentiation">Parametric differentiation</option>
            <option value="implicit-differentiation">Implicit differentiation</option>
            <option value="rates-of-change">Rates of change</option>
        </optgroup>
        
        <!-- Numerical Methods -->
        <optgroup label="Numerical Methods">
            <option value="locating-roots">Locating roots</option>
            <option value="iteration">Iteration</option>
            <option value="newton-raphson-method">The Newton-Raphson method</option>
            <option value="applications-to-modelling">Applications to modelling</option>
        </optgroup>
        
        <!-- Integration -->
        <optgroup label="Integration">
            <option value="integrating-standard-functions">Integrating standard functions</option>
            <option value="integrating-f-ax-b">Integrating f(ax + b)</option>
            <option value="using-trigonometric-identities">Using trigonometric identities</option>
            <option value="reverse-chain-rule">Reverse chain rule</option>
            <option value="integration-by-substitution">Integration by substitution</option>
            <option value="integration-by-parts">Integration by parts</option>
            <option value="finding-areas">Finding areas</option>
            <option value="trapezium-rule">The trapezium rule</option>
            <option value="solving-differential-equations">Solving differential equations</option>
            <option value="modelling-with-differential-equations">Modelling with differential equations</option>
        </optgroup>
        
        <!-- Vectors -->
        <optgroup label="Vectors">
            <option value="3d-coordinates">3D coordinates</option>
            <option value="vectors-in-3d">Vectors in 3D</option>
            <option value="solving-geometric-problems">Solving geometric problems</option>
            <option value="application-to-mechanics">Application to mechanics</option>
        </optgroup>
           </optgroup>
</select>

         <h4>Category:</h4>
         <select id="videoType">
           <option value="Video Upload">Video Upload</option>
           <option value="Live Video">Live Video</option>
         </select>
         <div class="liveRecord">
           <button id="startLiveRecord">Start Recording</button>
         </div>
         <div class="oldvideoUpload">
           <input type="file" id="old-lesson" accept="video/mp4, video/mpeg, video/webm">
           <button id="old-vid-upload">Upload Lesson</button>
         </div>
       </div>
       <div class="liveLesson">
         <video id="livefeed" autoplay="" muted="" controls="">
           
         </video>
         <h3 id="livefeedTitle"></h3>
         <h5 id="livetutor"></h5>
         zoom:
           <input type="range" id="zoomSlider" min="1" max="3" step="0.1" value="1">
         <button class="livebtns" id="startlive">Start Lesson</button>
         <button class="livebtns" id="endlive">End Lesson</button>
             <video id="receiverVid" autoplay="" >
               
             </video>
       
       </div>
       <div class="lesson-holder">
          
       </div>
       <div class="footer">
         <hr>
         "Let's have fun solving problems and numbers"
       </div>
     </div>
  </div>
   <div id="tab3" class="tabs">
    <button id="paytabclose"><span class="material-symbols-outlined">
close
</span></button>
    <div class="pay-heading">
      <img src="logo.png"/>
      <h1  class="ubuntu-bold-italic">Math Saints</h1>
    </div>
        <h3 class="ubuntu-bold-italic">Subscription Packages</h3>
      <div class="pay-sub-holder">
        <div class="free mini-tab appear">
          <h1>0.00 <span class="material-symbols-outlined">
currency_pound
</span></h1>
          <ul>
            <li>Get Notified of new concepts</li>
            <li>Get Notified of new videos</li>
            <li>View lessons</li>
          </ul>
          <button class="subsribe" id="subzero">Get</button>
        </div>
        <div class="pro1 mini-tab disappear">
          <h1>12.00 <span class="material-symbols-outlined">
currency_pound
</span></h1>
          <ul>
            <li>Get Notified of new concepts</li>
            <li>Get Notified of new videos</li>
            <li>View lessons</li>
            <li>Attend Old lessons</li>
          </ul>    
          <button class="subsribe" id="subone">Subscribe</button>          
        </div>
        <div class="pro2 mini-tab disappear">
          <h1>15.00 <span class="material-symbols-outlined">
currency_pound
</span> <span>/60 mins</span></h1>
           <ul>
            <li>Get Notified of new concepts</li>
            <li>Get Notified of new videos</li>
            <li>View lessons</li>
            <li>Attend Old lessons</li>
             <li>Attend live lessons</li>
             <li>Schedule lessons with tutors</li>
             <li>Indulge in live class discussions</li>
          </ul>
          <button class="subsribe" id="subtwo">Subscribe</button>
        </div>
        <div class="pro3 mini-tab disappear">
          <h1>20.00 <span class="material-symbols-outlined">
currency_pound
</span> <span>/90 mins</span></h1>
           <ul>
            <li>Get Notified of new concepts</li>
            <li>Get Notified of new videos</li>
            <li>View lessons</li>
            <li>Attend Old lessons</li>
             <li>Attend live lessons</li>
             <li>Schedule lessons with tutors</li>
             <li>Indulge in live class discussions</li>
          </ul>
          <button class="subsribe" id="subthree">Subscribe</button>
        </div>
        <div class="pro4 mini-tab disappear">
          <h1>25.00 <span class="material-symbols-outlined">
currency_pound
</span> <span>/120 mins</span></h1>
           <ul>
            <li>Get Notified of new concepts</li>
            <li>Get Notified of new videos</li>
            <li>View lessons</li>
            <li>Attend Old lessons</li>
             <li>Attend live lessons</li>
             <li>Schedule lessons with tutors</li>
             <li>Indulge in live class discussions</li>
          </ul>
          <button class="subsribe" id="subfour">Subscribe</button>
        </div>
        
      </div>
    <div class="checkers">
      <input type="radio" name="check" class="check-1" checked=""/>
      <input type="radio" name="check" class="check-2"/>
      <input type="radio" name="check" class="check-3"/>
      <input type="radio" name="check" class="check-4"/>
      <input type="radio" name="check" class="check-5"/>
    </div>
  </div>
  <div class="studenttab tabb">
    <div class="header">
       <h1>Math Saints</h1>
       <button id="student-profile-appear"><span class="material-symbols-outlined">
account_circle
</span></button>
      <button id="paytabappear"><span class="material-symbols-outlined">
payments
</span></button>
       <div id="student-profile" class="contact-info">
         <div class="image-wrap">
         <img src="person1.webp"/>
         </div>
         <h4 class="student-name-holder"></h4>
         <div class="student-email-holder"></div>
         <h2 class="student-role"></h2>
         <button class="sign-out">Sign Out</button>
       </div>
     </div>
    <div class="body">
      <h3 class="student-welcome"> Welcome, </h3>
      <h4 class="watch">Watch time: <span id="watchTime">0</span> seconds</h4>
      <p>Subscribed time: <span id="subTime">0</span> seconds</p>
      <div class="live-indicator">
        <img src="live.jpeg"/>
        <div>
          <h4 id="livevideoname">Live lesson name</h4>
          <div id="livetutorname">Tutor Name</div>
        </div>
        <button id="joinLesson">Join</button>
      </div>

      <div id="student-lessons">
        
      </div>
      <div>
        
      </div>
    </div>
    <div class="footer">
      <hr>
         "Let's have fun solving problems and numbers"
       </div>
  </div>
  <script src="payapp.js"></script>
  <script src="apple.js"></script>
  <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-analytics.js";
  import{ getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, onAuthStateChanged, signInWithPopup, GoogleAuthProvider, signOut } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";
  import { getDatabase, get, set, push, query, onValue, ref, update, remove, orderByChild } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-database.js";
  import { getStorage, uploadBytes, uploadString, ref as sRef, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-storage.js";

  
  const firebaseConfig = {
    apiKey: "AIzaSyC7fCNZe8l-fGhhKsMF0JVcymh8uCv1zyI",
    authDomain: "lavender-app-eeeb0.firebaseapp.com",
    databaseURL: "https://lavender-app-eeeb0-default-rtdb.firebaseio.com",
    projectId: "lavender-app-eeeb0",
    storageBucket: "lavender-app-eeeb0.appspot.com",
    messagingSenderId: "666797584961",
    appId: "1:666797584961:web:8d9576c372d72fe0938cc0",
    measurementId: "G-ECZ1J6F0KK"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getDatabase(app);
  const storage = getStorage(app);
  

  //login and sign in functions
  var emailInput = document.getElementById('sign-up-email');
  var passwordInput = document.getElementById('sign-up-password');
  var usernameInput = document.getElementById("sign-up-name");
  var signupPath = document.getElementById("sign-up-path");
  
  var signTab = document.querySelector(".allholder");
  var tutorTab = document.querySelector(".tutortab");
  var studentTab = document.querySelector(".studenttab");
  var loginTab = document.querySelector('.login');
var signInTab = document.querySelector('.sign-up');

  var studentNameHolder = document.querySelector(".student-name-holder");
  var studentEmailHolder = document.querySelector(".student-email-holder");
  var studentRole = document.querySelector(".student-role");
  var studentWelcome = document.querySelector(".student-welcome");
  const watchTimeHolder = document.querySelector("#watchTime");

  
  var tutorNameHolder = document.querySelector(".tutor-name-holder");
  var tutorEmailHolder = document.querySelector(".tutor-email-holder");
  var tutorRole = document.querySelector(".tutor-role");
  var tutorWelcome = document.querySelector(".tutor-welcome");
  var watchTime;
  
  var signOutBtns = document.querySelectorAll(".sign-out");
  signOutBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      var username = studentNameHolder.textContent;
      var todaywatch = watchTimeHolder.textContent;
      var userRef = ref(db, "users/" + username);
      update(userRef, {
        watchtime: todaywatch
      })
      .then(() => {
        studentNameHolder.textContent = "";
      studentEmailHolder.textContent = "";
      
      tutorNameHolder.textContent = "";
      tutorEmailHolder.textContent = "";
        auth.signOut();
      
      window.location.href = "index.html";
      });
      
    });
  });
  
  
  var signupbtn = document.querySelector("#fro");
  var subscribeTab = document.querySelector('#tab3');
  var othertab1 = document.querySelector('#tab1');
  var othertab2 = document.querySelector('#tab2');
  var signuptalb = document.querySelector('#sign');
   
  document.addEventListener("DOMContentLoaded", () => {
    onAuthStateChanged(auth, (user) => {
      if (user) {
        var uid = user.uid;
        var email = user.email;
        var userRef = ref(db, "users/");
      get(userRef)
        .then((snapshot) => {
          var data = snapshot.val();
          Object.keys(data).forEach((key) => {
            if (data[key].email === email) {
              if (data[key].uid === uid) {
                  if (data[key].category === "Student") {
                signTab.style.display = "none";
                signInTab.style.visibility = "hidden";
                loginTab.style.visibility = "hidden";

                studentTab.style.display = "block";
                tutorTab.style.display = "none";
                studentNameHolder.textContent = data[key].username;
                studentWelcome.textContent = `Welcome ${data[key].username}`;
                studentEmailHolder.textContent = data[key].email;
                studentRole.textContent = data[key].category;
                watchTimeHolder.textContent = data[key].watchtime;
                watchTime = data[key].watchtime;
                watchTimeGet(watchTime);
                    subtime();
              } else {
                signTab.style.display = "none";
                signInTab.style.visibility = "hidden";
                loginTab.style.visibility = "hidden";

                studentTab.style.display = "none";
                tutorTab.style.display = "block";
                tutorNameHolder.textContent = data[key].username;
                tutorWelcome.textContent += data[key].username;
                tutorEmailHolder.textContent = data[key].email;
                tutorRole.textContent = data[key].category;
                tutorLessonDownload();
              }
              }
            } 
          });
        });
        
      } 
    });
  });
  
  signupbtn.addEventListener("click", () => {
       
      var email = emailInput.value;
      var password = passwordInput.value;
      var username = usernameInput.value;
     
      var signPath = signupPath.value;
      var userRef = ref(db, "users/" + username);
      
      if (email !== "" && password !== "") {
      createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        var user = userCredential.user;
        set(userRef, {
          username: username,
          email: email,
          password: password,
          uid: user.uid,
          category: signPath,
          watchtime: "0",
          subscribedtime: "0"
        })
        .then(() => {
         var username = usernameInput.value;
            var userRef = ref(db, "users/" + username);
  get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
             
             
              studentNameHolder.textContent = data.username;
              studentWelcome.textContent = `Welcome ${data.username}`;
              studentEmailHolder.textContent = data.email;
              studentRole.textContent = data.category;
              watchTimeHolder.textContent = data.watchtime;
              subscribeTime.textContent = data.subscribedtime;
          
            othertab1.style.display = 'none';
            othertab2.style.display = 'none';
            signuptalb.style.display = 'none';
            subscribeTab.style.display = 'flex';
            subscribeTab.style.zIndex = "1000";
            loginTab.style.visibility = "hidden";
            
             });
          
        });
      });
      }
  });
  
  var loginUsernameInput = document.querySelector("#login-username");
  var loginPasswordInput = document.querySelector("#login-password");
  var loginBtn = document.querySelector("#login-button");
  loginBtn.addEventListener("click", () => {
  var loginUsername = loginUsernameInput.value.trim();
  var loginPassword = loginPasswordInput.value.trim();
  if (loginUsername !== "" && loginPassword !== "") {
    var loginRef = ref(db, "users/");
    get(loginRef)
      .then((snapshot) => {
        var data = snapshot.val();
        var accountFound = false;
        Object.keys(data).forEach((key) => {
          if (data[key].username === loginUsername) {
            accountFound = true; 
            if (data[key].password === loginPassword) {
              if (data[key].category === "Student") {
                signInWithEmailAndPassword(auth, data[key].email, data[key].password)
                .then((userCredential) => {
                  signTab.style.display = "none";
                signInTab.style.visibility = "hidden";
                loginTab.style.visibility = "hidden";

                studentTab.style.display = "block";
                tutorTab.style.display = "none";
                studentNameHolder.textContent = data[key].username;
                studentWelcome.textContent = `Welcome ${data[key].username}`;
                studentEmailHolder.textContent = data[key].email;
                studentRole.textContent = data[key].category;
                watchTimeHolder.textContent = data[key].watchtime;
                watchTime = data[key].watchtime;
                watchTimeGet(watchTime);
            subtime();
                });
                  } else {
                    signInWithEmailAndPassword(auth, data[key].email, data[key].password)
                .then((userCredential) => {
                  signTab.style.display = "none";
                signInTab.style.visibility = "hidden";
                loginTab.style.visibility = "hidden";

                studentTab.style.display = "none";
                tutorTab.style.display = "block";
                tutorNameHolder.textContent = data[key].username;
                tutorWelcome.textContent += data[key].username;
                tutorEmailHolder.textContent = data[key].email;
                tutorRole.textContent = data[key].category;
                tutorLessonDownload();
                });
                
              }
            } else {
              showAlert("Wrong Password...");
            }
          }
        });

        if (!accountFound) {
          showAlert("That account doesn't exist...");
        }
      });
  } else {
    showAlert("Please fill the fields");
  }
});

  
  //utility functions
  var chooser = document.querySelector('#sign-up-path');
var btn1 = document.getElementById('back');
var btntotutor = document.getElementById('fro');
var tutorCodeInputHolder = document.querySelector('#tode');
chooser.addEventListener('change', (e) => {
    var choice = e.target.value;
   btntotutor.replaceWith(btntotutor.cloneNode(true));
   btntotutor = document.getElementById('fro'); 

    if (choice === 'Tutor') {
        tutorCodeInputHolder.style.visibility = 'visible';
        btntotutor.innerHTML = "Sign up";
        btntotutor.addEventListener('click', tutorSignUp);
    } else {
        tutorCodeInputHolder.style.visibility = 'hidden';
        btntotutor.innerHTML = `<a href="#tab3" class="linknext">Next</a>`;
    }
});

  var tutorCodeInput = document.querySelector("#tutor-code");
  function tutorSignUp() {
    var tutorCode = tutorCodeInput.value.trim();
    if (tutorCode !== "") {
      
      var tutorRef = ref(db, "tutorcode/");
   get(tutorRef)
      .then((snapshot) => {
        if (snapshot.exists()) {
          var data = snapshot.val();
          if (data.standardcode === tutorCode) {
            
      var email = emailInput.value;
      var password = passwordInput.value;
      var username = usernameInput.value;
      var signPath = signupPath.value;
      var userRef = ref(db, "users/" + username);
      
      if (email !== "" && password !== "" && username !== "") {
      createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        var user = userCredential.user;
         set(userRef, {
          username: username,
          email: email,
          password: password,
          uid: user.uid,
          category: signPath
        }).then(() => {
              
          get(userRef)
          .then((snapshot) => {
            var tutordata = snapshot.val();
              signTab.style.display = "none";
              signInTab.style.visibility = "hidden";
              loginTab.style.visibility = "hidden";
              
              studentTab.style.display = "none";
              tutorTab.style.display = "block";
              tutorNameHolder.textContent = tutordata.username;
              tutorWelcome.textContent += tutordata.username;
              tutorEmailHolder.textContent = tutordata.email;
              tutorRole.textContent = tutordata.category;
          });
          
        });
      });
      }
          } else {
            showAlert("Wrong Tutor code.... Please try as a student.");
            tutorCodeInput.value = "";
          }
        }
      });
      
    } else {
      showAlert("please fill the feilds...");
    }
   
  }
var oldLesson = document.querySelector('#old-lesson');
var oldLessonUploadBtn = document.querySelector("#old-vid-upload"); 
var oldVideoUpload = document.querySelector('.oldvideoUpload');
  var videoFile;
  var videoName;
oldLesson.addEventListener('change', (e) => {
    videoFile = e.target.files[0];
    videoName = videoFile.name;
    var reader = new FileReader();

    reader.onload = function (event) {
        
        var existingVideo = oldVideoUpload.querySelector('#videoToUpload');
        if (existingVideo) {
            oldVideoUpload.removeChild(existingVideo);
        }
        
        var video = document.createElement('video');
        video.id = "videoToUpload";
        video.controls = true;
        video.style.width = '250px';
        video.style.height = '300px';
        video.src = event.target.result;
        oldVideoUpload.appendChild(video);
    };

    reader.readAsDataURL(videoFile);
});
  
  var videoTitle = document.querySelector("#videoTitle");
  var videoTopic = document.querySelector("#videoTopic");
  var tutorName = document.querySelector(".tutor-name-holder");
oldLessonUploadBtn.addEventListener("click", () => {
  var videoRef = sRef(storage, `videos/${videoName}`);
  uploadBytes(videoRef, videoFile)
  .then((snapshot) => {
    var timeStamp = new Date().getTime();
    var vidataRef = push(ref(db, `videoinfo/`));
    set(vidataRef, {
      videoName: videoName,
      videoTitle: videoTitle.value,
      videoTopic: videoTopic.value,
      tutorName: tutorName.textContent,
      timestamp: timeStamp
    }).then(() => {
       var existingVideo = oldVideoUpload.querySelector('#videoToUpload');
        if (existingVideo) {
            oldVideoUpload.removeChild(existingVideo);
        }
     oldLesson.value = "";
     videoTitle.value = "";
      var videoUploadTab = document.querySelector('.videoUpload');
    videoUploadTab.style.visibility = "hidden";
    videoUploadTab.style.zIndex = "-1000";
    });
    
  });
});
  
  var lessonHolder = document.querySelector(".lesson-holder");
   var tutorVidQuery = query(ref(db, `videoinfo/`), orderByChild('timestamp'));
  onValue(tutorVidQuery, (snapshot) => {
    lessonHolder.innerHTML = "";
    var data = snapshot.val();
    Object.keys(data).sort((a,b) => data[a].timestamp - data[b].timestamp).forEach((key) => {
      if (data[key].tutorName === tutorName.textContent) {
        var vidtitle = data[key].videoTitle;
        var vidtopic = data[key].videoTopic;
        var vidtutor = data[key].tutorName;
        var vidname = data[key].videoName;
        
        var lessonRef = sRef(storage, "videos/" + vidname);
        getDownloadURL(lessonRef)
        .then((url) => {
          var videoCard = document.createElement("div");
          videoCard.className = "video-card";
          videoCard.innerHTML = `
          <video controls>
          <source src="${url}"/>
          </video>
          <h4>${vidtitle}, ${vidtopic}</h4>
          <div>${vidtutor}</div>
          `;
          lessonHolder.appendChild(videoCard);
        });
      }
    });
    watchTimeGet(watchTime);
  });
  function tutorLessonDownload () {
    var tutorLessonRef = ref(db, "videoinfo/");
    get(tutorLessonRef)
    .then((snapshot) => {
      lessonHolder.innerHTML = "";
    var data = snapshot.val();
    Object.keys(data).sort((a,b) => data[a].timestamp - data[b].timestamp).forEach((key) => {
      if (data[key].tutorName === tutorName.textContent) {
        var vidtitle = data[key].videoTitle;
        var vidtopic = data[key].videoTopic;
        var vidtutor = data[key].tutorName;
        var vidname = data[key].videoName;
        
        var lessonRef = sRef(storage, "videos/" + vidname);
        getDownloadURL(lessonRef)
        .then((url) => {
          var videoCard = document.createElement("div");
          videoCard.className = "video-card";
          videoCard.innerHTML = `
          <video controls>
          <source src="${url}"/>
          </video>
          <h4>${vidtitle}, ${vidtopic}</h4>
          <div>${vidtutor}</div>
          `;
          lessonHolder.appendChild(videoCard);
        });
      }
    });
    });
  }
  //live lessons
var startLiveLesson = document.querySelector('#startLiveRecord');
var publishLiveLesson = document.querySelector("#startlive");
var endLiveLesson = document.querySelector('#endlive');
var liveLessonTab = document.querySelector('.liveLesson');
var videoFeed = liveLessonTab.querySelector('#livefeed');
var receiverVideo = document.querySelector("#receiverVid");
var liveFeedTitle = liveLessonTab.querySelector('#livefeedTitle');
var liveTutor = liveLessonTab.querySelector('#livetutor');

  var videoTitle = document.querySelector("#videoTitle");
  var videoTopic = document.querySelector("#videoTopic");
  var tutorName = document.querySelector(".tutor-name-holder");

  const zoomSlider = document.getElementById('zoomSlider');
let mediaRecorder;
let chunks = []; 
let videoTrack;

startLiveLesson.addEventListener('click', () => {
    videoUploadTab.style.visibility = "hidden";
    videoUploadTab.style.zIndex = "-1000";
    liveLessonTab.style.visibility = 'visible';
    liveLessonTab.style.zIndex = "1000";
    
    liveFeedTitle.textContent = videoTitle.value.trim() + ", " + videoTopic.value;
    liveTutor.textContent = tutorName.textContent;
    
    navigator.mediaDevices.getUserMedia({ video: true, audio: true })
        .then(stream => {
            videoFeed.srcObject = stream;
            
            videoTrack = stream.getVideoTracks()[0];
            
            mediaRecorder = new MediaRecorder(stream);
            chunks = [];

            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) {
                    chunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'video/webm' }); 
                var videoName = videoTitle.value + ".web/m";
                var videoRef = sRef(storage, `videos/${videoName}`);
  uploadBytes(videoRef, blob)
  .then((snapshot) => {
    var timeStamp = new Date().getTime();
    var vidataRef = push(ref(db, `videoinfo/`));
    set(vidataRef, {
      videoName: videoName,
      videoTitle: videoTitle.value,
      videoTopic: videoTopic.value,
      tutorName: tutorName.textContent,
      timestamp: timeStamp
    }).then(() => {
       
     videoTitle.value = "";
      var videoUploadTab = document.querySelector('.videoUpload');
    videoUploadTab.style.visibility = "hidden";
    videoUploadTab.style.zIndex = "-1000";
    });
    
  });
                
                liveLessonTab.style.visibility = 'hidden';
                liveLessonTab.style.zIndex = "-1000";
                stream.getTracks().forEach(track => {
                    track.stop();
                });
            };

            mediaRecorder.start(); // Moved mediaRecorder.start() outside onstop
        })
        .catch(error => {
            console.error('Error accessing media devices:', error);
        });
    
});
  
endLiveLesson.addEventListener('click', () => {
    if (mediaRecorder) {
        mediaRecorder.stop();
    } else {
        console.error('No active media recorder to stop!');
    }
});
zoomSlider.addEventListener('input', (event) => {
    if (videoTrack) {
        const zoomLevel = event.target.value;

        // Check if zoom is supported
        const capabilities = videoTrack.getCapabilities();
        if (capabilities.zoom) {
            videoTrack.applyConstraints({
                advanced: [{ zoom: zoomLevel }]
            }).catch(error => {
                console.error('Error applying zoom:', error);
            });
        } else {
            alert('Zoom is not supported on this device.');
        }
    }
});
var studentLessonHolder = document.querySelector("#student-lessons");
  var tutorVidQuery = query(ref(db, `videoinfo/`), orderByChild('timestamp'));
  onValue(tutorVidQuery, (snapshot) => {
    studentLessonHolder.innerHTML = "";
    var data = snapshot.val();
    Object.keys(data).sort((a,b) => data[b].timestamp - data[a].timestamp).forEach((key) => {
      
        var vidtitle = data[key].videoTitle;
        var vidtopic = data[key].videoTopic;
        var vidtutor = data[key].tutorName;
        var vidname = data[key].videoName;
        
        var lessonRef = sRef(storage, "videos/" + vidname);
        getDownloadURL(lessonRef)
        .then((url) => {
          var videoCard = document.createElement("div");
          videoCard.className = "video-card";
          videoCard.innerHTML = `
          <video controls>
          <source src="${url}"/>
          </video>
          <h4>${vidtitle}, ${vidtopic}</h4>
          <div>${vidtutor}</div>
          `;
          studentLessonHolder.appendChild(videoCard);
        });
      
    });
  });
   //payment
  var subZerobtn = document.querySelector('#subzero');
  var subOnebtn = document.querySelector('#subone');
  var subTwobtn = document.querySelector('#subtwo');
  var subThreebtn = document.querySelector('#subthree');
  var subFourbtn = document.querySelector('#subfour');

 var subTabOne = document.querySelector('#payone');
 var subTabTwo = document.querySelector('#paytwo');
 var subTabThree = document.querySelector('#paythree');
 var subTabFour = document.querySelector('#payfour');

 var subscribeTime = document.querySelector('#subTime');

subZerobtn.addEventListener('click', () => {
  var username = studentNameHolder.textContent;

  var userRef = ref(db, "users/" + username);
  get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
              studentTab.style.display = "block";
              tutorTab.style.display = "none";
              studentNameHolder.textContent = data.username;
              studentWelcome.textContent = `Welcome ${data.username}`;
              studentEmailHolder.textContent = data.email;
              studentRole.textContent = data.category;
              watchTimeHolder.textContent = data.watchtime;
              subscribeTime.textContent = data.subscribedtime;
    
    var paytab = document.querySelector('#tab3');
    paytab.style.display = 'none';
    paytab.style.zIndex = '-1000';
          
  });
});

subOnebtn.addEventListener('click', () => {
  var username = studentNameHolder.textContent;

  var userRef = ref(db, "users/" + username);
    get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
       var formersub = Number(data.subscribedtime);
       var addsub = Number('1200');
      var newsub = formersub + addsub;
     update(userRef, {
           subscribedtime: newsub
         }).then(() => {
       subtime();
       window.location.href='https://monzo.me/serahnabunya/25.00?h=_aKU1R&d=Subsription%20for%20Math%20Saints%20Package%20one'

         });
    });

  
  });

subTwobtn.addEventListener('click', () => {
  var username = studentNameHolder.textContent;

  var userRef = ref(db, "users/" + username);
    get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
       var formersub = Number(data.subscribedtime);
       var addsub = Number('3600');
      var newsub = formersub + addsub;
     update(userRef, {
           subscribedtime: newsub
         }).then(() => {
       subtime();
       window.location.href='https://monzo.me/serahnabunya/25.00?h=_aKU1R&d=Subsription%20for%20Math%20Saints%20Package%20one'

         });
    });

  
});

subThreebtn.addEventListener('click', () => {
  var username = studentNameHolder.textContent;

  var userRef = ref(db, "users/" + username);
    get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
       var formersub = Number(data.subscribedtime);
       var addsub = Number('5400');
      var newsub = formersub + addsub;
     update(userRef, {
           subscribedtime: newsub
         }).then(() => {
       subtime();
       window.location.href='https://monzo.me/serahnabunya/25.00?h=_aKU1R&d=Subsription%20for%20Math%20Saints%20Package%20one'

         });
    });

  
});
subFourbtn.addEventListener('click', () => {
   var studentNameHolder = document.querySelector(".student-name-holder");
  var username = studentNameHolder.textContent;

  var userRef = ref(db, "users/" + username);
    
  get(userRef)
  .then((snapshot) => {
    var data = snapshot.val();
       var formersub = Number(data.subscribedtime);
       var addsub = Number('7200');
      var newsub = formersub + addsub;
     update(userRef, {
           subscribedtime: newsub
         }).then(() => {
       subtime();
       window.location.href='https://monzo.me/serahnabunya/25.00?h=_aKU1R&d=Subsription%20for%20Math%20Saints%20Package%20one'

         });
    });
  
});
 function subtime() {
   var studentName = studentNameHolder.textContent;
   var subRef = query(ref(db, `users/${studentName}/`));
   onValue(subRef, (snapshot) => {
     var data = snapshot.val();
     subscribeTime.textContent = data.subscribedtime;
   });
 }
  //watch time queries
function watchTimeGet (watchTime) {
    const allVideos = document.querySelectorAll("video");
const watchTimeHolder = document.querySelector("#watchTime");

const watchedIntervalsMap = new Map(); 
    
allVideos.forEach((video) => {
    watchedIntervalsMap.set(video, new Set()); 

    video.addEventListener("timeupdate", () => {
        const currentTime = Math.floor(video.currentTime); 
        const watchedIntervals = watchedIntervalsMap.get(video); 

        
        if (!watchedIntervals.has(currentTime)) {
            watchedIntervals.add(currentTime);
            watchTime++; 
            watchTimeHolder.textContent = watchTime; 
          var standardTime = subscribeTime.textContent;
          if (watchTime === standardTime) {
            subscribeTime.textContent = '0';
            watchTimeHolder.textContent = '0';
            var username = studentNameHolder.textContent;
             var userRef = ref(db, "users/" + username);
    update(userRef, {
           subscribedtime: '0'
         }).then(() => {
           var paytab = document.querySelector('#tab3');
           paytab.style.display = 'flex';
           paytab.style.zIndex = '1000';
         });
            
          }
        }
    });
});
    
console.log("All videos initialized:", allVideos.length);
allVideos.forEach((video, index) => {
    console.log(`Video ${index + 1} duration:`, video.duration);
});

}
watchTimeGet(watchTime);
setTimeInterval(watchTimeGet,5000);

  </script>
</body>
                    </html>
